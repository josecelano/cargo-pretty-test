# Cargo Pretty Test âœ¨

[![Testing](https://github.com/josecelano/pretty-test/actions/workflows/testing.yaml/badge.svg)](https://github.com/josecelano/pretty-test/actions/workflows/testing.yaml)

A Rust command-line tool that prettifies the ugly `cargo test` output into a beautiful output.

This crate can be also used as a library that [fully parses][parsing] the output from `cargo test`.

[parsing]: https://docs.rs/cargo-pretty-test/*/cargo_pretty_test/parsing/index.html

```console
$ cargo pretty-test --workspace --no-fail-fast
     Running `target/debug/cargo-pretty-test --workspace --no-fail-fast`
failures:

---- submod::panic::panicked stdout ----
thread 'submod::panic::panicked' panicked at tests/integration/src/lib.rs:9:13:
explicit panic
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- submod::panic::should_panic_but_didnt stdout ----
note: test did not panic as expected

failures:
    submod::panic::panicked
    submod::panic::should_panic_but_didnt

*************************************************************

Generated by cargo-pretty-test
â”œâ”€â”€ cargo_pretty_test
â”‚   â”œâ”€â”€ tests/golden_master_test.rs
â”‚   â”‚   â””â”€ âœ… golden_master_test
â”‚   â”œâ”€â”€ tests/mocking_project.rs
â”‚   â”‚   â”œâ”€ âœ… snapshot_testing_for_parsed_output
â”‚   â”‚   â””â”€ âœ… snapshot_testing_for_pretty_output
â”‚   â””â”€â”€ tests/parsing.rs
â”‚       â””â”€ âœ… parse_stderr_stdout
â”œâ”€â”€ integration
â”‚   â”œâ”€â”€ src/lib.rs
â”‚   â”‚   â”œâ”€â”€ submod
â”‚   â”‚   â”‚   â”œâ”€ ğŸ”• ignore
â”‚   â”‚   â”‚   â”œâ”€ ğŸ”• ignore_without_reason
â”‚   â”‚   â”‚   â”œâ”€ âœ… normal_test
â”‚   â”‚   â”‚   â””â”€â”€ panic
â”‚   â”‚   â”‚       â”œâ”€ âŒ panicked
â”‚   â”‚   â”‚       â”œâ”€ âœ… should_panic - should panic
â”‚   â”‚   â”‚       â”œâ”€ âŒ should_panic_but_didnt - should panic
â”‚   â”‚   â”‚       â””â”€ âœ… should_panic_without_reanson - should panic
â”‚   â”‚   â””â”€ âœ… works
â”‚   â”œâ”€â”€ src/main.rs
â”‚   â”‚   â””â”€ âœ… from_main_rs
â”‚   â””â”€â”€ tests/parsing.rs
â”‚       â””â”€ âœ… from_integration
â””â”€â”€ Doc
    â”œâ”€â”€ cargo-pretty-test
    â”‚   â””â”€ âœ… src/doc.rs - doc (line 3)
    â””â”€â”€ integration
        â””â”€ âœ… tests/integration/src/lib.rs - doc (line 41)


Icon Notation:
â”€ âœ… pass (including the case that should panic and did panic)
â”€ âŒ fail (including the case that should panic but didn't panic)
â”€ ğŸ”• ignored (with reason omitted)
```

## Usage

Install:

```console
cargo install cargo-pretty-test
```

Run in your project:

```console
cargo pretty-test
```

All the arguments passed to `cargo pretty-test` are forwarded to `cargo test`.

## Credits

- First commit author [@ZJPzjp](https://github.com/zjp-CN).
- Idea described on [https://users.rust-lang.org](https://users.rust-lang.org/t/cargo-test-output-with-indentation/100149) by [@josecelano](https://github.com/josecelano).

### Links

- <https://users.rust-lang.org/t/cargo-test-output-with-indentation/100149>
- <https://www.rustexplorer.com/b/i058g3>
